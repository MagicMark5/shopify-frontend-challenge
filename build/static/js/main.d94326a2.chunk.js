(this["webpackJsonpshopify-frontend-challenge"]=this["webpackJsonpshopify-frontend-challenge"]||[]).push([[0],{70:function(e,t,n){},89:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(9),o=n.n(c),r=(n(70),n(18)),s=n(56),l=n.n(s),h=(n(89),n(126)),u=Object(h.a)((function(e){return{root:{flexGrow:1,maxWidth:752},background:{backgroundColor:"inherit"},title:{margin:e.spacing(4,2,1),padding:e.spacing(3,2,1)}}})),d=n(41),j=n(57),m=n.n(j),b=n(138),p=n(27),f=n(19),g=Object(h.a)((function(e){return{title:Object(p.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(p.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(f.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(f.b)(e.palette.common.white,.25)},marginLeft:e.spacing(3),marginRight:e.spacing(3),width:"100%"},e.breakpoints.up("sm"),{width:"60%"}),searchIcon:{padding:e.spacing(0,1),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"flex-start"},inputRoot:{color:"inherit",width:"85%"},inputInput:Object(p.a)({padding:e.spacing(1,1,1,0),transition:e.transitions.create("width"),width:"100%",height:"20px"},e.breakpoints.down("sm"),{marginLeft:"1em"}),sectionDesktop:Object(p.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(p.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}})),O=n(3);function v(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),i=n[0],c=n[1],o=g();return Object(O.jsxs)("div",{className:o.search,children:[Object(O.jsx)("div",{className:o.searchIcon,children:Object(O.jsx)(m.a,{})}),Object(O.jsx)("form",{onSubmit:function(t){t.preventDefault(),e.handleSubmitAction(i.trim()),c("")},autoComplete:"off",children:Object(O.jsx)(b.a,{name:"movie",value:i,onChange:function(e){var t=e.target.value;t.length<=100&&c(t)},placeholder:"Enter a movie title...",classes:{root:o.inputRoot,input:o.inputInput},inputProps:{"aria-label":"search","data-testid":"search"}})})]})}var x=n(32),N=Object(h.a)((function(e){return{root:{flexGrow:1,maxWidth:752},background:{backgroundColor:"inherit"},title:{margin:e.spacing(4,2,2)}}})),y=n(130),k=n(131),S=n(134),C=n(133),w=n(139),I=n(135),E=n(132),R=n(137),A=n(59),J=n.n(A),P=n(129),D=Object(h.a)((function(e){return{typography:{padding:e.spacing(2)},info:{margin:e.spacing(1)}}}));function F(e){var t=e.title,n=e.year,i=e.poster,c=e.imdbID,o=D(),s=Object(a.useState)(null),l=Object(r.a)(s,2),h=l[0],u=l[1],j=function(){u(null)},m=Boolean(h),b=m?c:void 0;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(J.a,{className:o.info,"aria-describedby":b,variant:"contained",color:"action",onClick:function(e){u(e.currentTarget)}}),Object(O.jsxs)(R.a,{id:b,open:m,anchorEl:h,onClose:j,onClick:j,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[Object(O.jsx)(P.a,{component:"img",alt:t,height:"450",src:i,title:t}),Object(O.jsxs)(d.a,{className:o.typography,children:[t," (",n,")"]})]})]})}function L(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,c=e.Title,o=e.Year,r=e.Poster,s=e.imdbID,l={Title:c,Year:o,Poster:r},h=JSON.stringify(l),u=!(!i&&!a.includes(h)),d=n?"fas fa-trash":"fas fa-trophy",j={height:"60px",width:"60px",marginRight:"1em"};return Object(O.jsxs)(y.a,{children:[Object(O.jsx)(k.a,{children:Object(O.jsx)(w.a,{src:r,style:j,children:Object(O.jsx)(E.a,{className:"fas fa-film"})})}),Object(O.jsx)(C.a,{primary:"".concat(c," (").concat(o,")")}),Object(O.jsx)(F,{title:c,year:o,poster:r,imdbID:s}),Object(O.jsx)(S.a,{children:Object(O.jsx)(I.a,{edge:"end","aria-label":"add",disabled:u,name:h,"data-testid":"nominateBtn",onClick:t,children:Object(O.jsx)(E.a,{className:d,name:h})})})]},"".concat(c," (").concat(o,") [").concat(s,"]"))}var T=n(136);function B(e){var t=N(),n=e.movieList,a=e.currentNominations,i=e.handleNominateAction,c=5===a.length,o=0===n.length,r=Array.isArray(n)?n:[],s=r.length>0?'Results for "'.concat(e.query,'"'):'No Results for "'.concat(e.query,'" \ud83e\udd37\ud83c\udffd\u200d\u2642\ufe0f'),l=function(e){var t=e.target.name?e.target.name:e.target.offsetParent.name;i([].concat(Object(x.a)(a),[t]))},h=r.map((function(e){return L(e,l,!1,a,c)}));return Object(O.jsxs)("section",{className:"results",children:[Object(O.jsx)(d.a,{variant:"h5",className:t.title,children:s}),o&&Object(O.jsx)(d.a,{variant:"h6",className:t.title,children:"Enter a movie title into the search bar to see some films"}),Object(O.jsx)("div",{className:t.background,children:Object(O.jsx)(T.a,{children:h})})]})}function Y(e){var t=N(),n=e.currentNominations,i=e.removeNomination,c=0===n.length?"You have no nominations":"Nominations",o=0===n.length,r=function(e){var t=e.target.name?e.target.name:e.target.offsetParent.name,a=Object(x.a)(n).filter((function(e){return e!==t}));i(Object(x.a)(a))},s=n.map((function(e){return L(JSON.parse(e),r,!0)}));return Object(a.useEffect)((function(){localStorage.setItem("nominations",JSON.stringify(n))}),[n]),Object(O.jsxs)("section",{className:"nominations",children:[Object(O.jsx)(d.a,{variant:"h5",className:t.title,children:c}),o&&Object(O.jsx)(d.a,{variant:"h6",className:t.title,children:"Click the trophy icon from the movie results to nominate a film"}),Object(O.jsx)(T.a,{children:s})]})}var q=function(){var e=JSON.parse(localStorage.getItem("nominations")||[]),t=u(),n=Object(a.useState)(""),i=Object(r.a)(n,2),c=i[0],o=i[1],s=Object(a.useState)([]),h=Object(r.a)(s,2),j=h[0],m=h[1],b=Object(a.useState)(e),p=Object(r.a)(b,2),f=p[0],g=p[1],x=5===f.length;return Object(a.useEffect)((function(){c&&l.a.post("/api/movies",{movie:c}).then((function(e){var t=function(e){var t=[],n=[];return e.forEach((function(e){var a=JSON.stringify(e);t.includes(a)||(t.push(a),n.push(e))})),n}(e.data.Search?e.data.Search:[]);m(t)})).catch((function(e){console.log(e),o(null)}))}),[c]),Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(d.a,{variant:"h2",className:t.title,children:"The Shoppies"}),Object(O.jsx)("section",{className:"movieForm",children:Object(O.jsx)(v,{handleSubmitAction:o})}),x&&Object(O.jsx)("section",{className:"banner",children:"You are ready for the shoppies \ud83c\udfc6"}),Object(O.jsxs)("section",{className:"results-nominations",children:[Object(O.jsx)(B,{movieList:j,query:c,currentNominations:f,handleNominateAction:g}),Object(O.jsx)(Y,{currentNominations:f,removeNomination:g})]})]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,141)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),c(e),o(e)}))};o.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(q,{})}),document.getElementById("root")),z()}},[[96,1,2]]]);
//# sourceMappingURL=main.d94326a2.chunk.js.map